
Xstd = UGM_standardizeCols(reshape(X,[1 1 nNodes]),1);
nodePot = zeros(nNodes,nStates);
nodePot(:,1) = exp(-1-2.5*Xstd(:));
nodePot(:,2) = 1;

edgePot = zeros(nStates,nStates,edgeStruct.nEdges);
for e = 1:edgeStruct.nEdges
  n1 = edgeStruct.edgeEnds(e,1);
  n2 = edgeStruct.edgeEnds(e,2);

  pot_same = exp(1.8 + .3*1/(1+abs(Xstd(n1)-Xstd(n2))));
  edgePot(:,:,e) = [pot_same 1;1 pot_same];
end